{"code":"!function(e){var t={};function s(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\",s(s.s=0)}([function(e,t,s){\"use strict\";s.r(t);const r=new class{getFontList(){return new Promise((e,t)=>{let s=new XMLHttpRequest;s.onreadystatechange=(()=>{200==s.status&&4==s.readyState?e(JSON.parse(s.responseText)):200!=s.status&&4==s.readyState&&t(s.responseText)}),s.open(\"GET\",\"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyAZPt82j4_tyfPLEeWYVp14aXp5SM1-PME\",!0),s.send()})}init(e){return new Promise((t,s)=>{this.jsonData=e.items;var r=document.createElement(\"link\");r.id=\"googleFont\",r.rel=\"stylesheet\",r.type=\"text/css\",r.href=\"#\",document.getElementsByTagName(\"head\")[0].appendChild(r),t()})}getFilteredList(){return this.filteredList}setFilteredList(e){this.filteredList=this.jsonData.filter(t=>e.includes(t.category))}getFamily(){return this.family}setFamily(e){this.family=e}getCategory(){return this.category}setCategory(e){this.category=e}get(){return{family:this.family,category:this.category}}set(e){this.setFamily(e.family),this.setCategory(e.category)}getText(){return document.querySelector(\"#text\").textContent}setText(e){document.querySelector(\"#text\").textContent=e}getSelectedCategories(){var e=Array.from(document.querySelectorAll(\".category\"));return e=(e=e.filter(e=>!0===e.checked)).map(e=>e.id)}getRandomFont(e){return e[Math.floor(Math.random()*e.length)]}setLink(e){document.querySelector(\"#googleFont\").href=`https://fonts.googleapis.com/css?family=${e.family}`}setInlineStyle(e){document.querySelector(\"#text\").style.fontFamily=e.family}getToast(){return this.text}setToast(e){this.text=e}toast(){var e=document.querySelector(\"#toast\");e.textContent=this.text,e.classList.remove(\"hide-and-slide-up\"),window.clearTimeout(this.timer),this.timer=setTimeout(()=>{e.classList.add(\"hide-and-slide-up\")},4e3)}reveal(e){e.classList.remove(\"hide\")}hide(e){e.classList.add(\"hide\")}getSpace(e){return parseInt(/-?\\d*/g.exec(e.style.letterSpacing).join())}setSpace(e,t,s=!1){e.style.letterSpacing=s?`${t}px`:`${this.getSpace(e)+t}px`,document.querySelector(\"#space-input\").value=this.getSpace(e)}getSize(e){return parseInt(/\\d*/g.exec(e.style.fontSize).join())}setSize(e,t,s=!1){e.style.fontSize=s?`${t}px`:`${this.getSize(e)+t}px`,document.querySelector(\"#size-input\").value=this.getSize(e)}resetValues(e){this.setSpace(e,0,!0)}getCase(e){return e.style.textTransform}setCase(e,t){e.style.textTransform=t}toggleUpper(e){\"uppercase\"===this.getCase(e)?this.setCase(e,\"none\"):this.setCase(e,\"uppercase\")}toggleLower(e){\"lowercase\"===this.getCase(e)?this.setCase(e,\"none\"):this.setCase(e,\"lowercase\")}};r.getFontList().then(e=>{r.init(e)}).then(()=>{i(!0)}).catch(e=>{console.log(e)});const n=new class{constructor(){this.panel=document.querySelector(\"#cpanel\"),this.text=document.querySelector(\"#text-input\"),this.size=document.querySelector(\"#size-input\"),this.letterSpacing=document.querySelector(\"#space-input\"),this.categories=document.querySelectorAll(\".category\")}togglePanel(){this.panel.classList.toggle(\"hide\"),this.panel.classList.contains(\"hide\")&&document.activeElement.blur()}};var o;function i(e=!1){var t=document.querySelector(\"#toast\");t.classList.contains(\"hide-and-slide-up\")||t.classList.add(\"hide-and-slide-up\");var s=document.querySelector(\"#text\");e?a():(s.addEventListener(\"transitionend\",a),r.hide(s))}function a(){var e=r.getSelectedCategories();r.setFilteredList(e);var t=r.getFilteredList(),s=r.getRandomFont(t);r.set(s),r.resetValues(document.querySelector(\"#text\")),r.setLink(r),r.setInlineStyle(r),r.setToast(r.family.replace(/\"/g,\"\")),window.clearTimeout(o),o=setTimeout(()=>{!function(){var e=document.querySelector(\"#text\");e.removeEventListener(\"transitionend\",a),r.toast(),r.reveal(e)}()},500)}document.addEventListener(\"keydown\",e=>{var t=document.querySelector(\"#text\");e.shiftKey&&\"Space\"==e.code&&i(),e.shiftKey&&\"KeyT\"==e.code&&r.toast(),e.ctrlKey&&e.shiftKey&&\"KeyS\"==e.code&&n.togglePanel(),e.shiftKey&&\"38\"==e.keyCode&&r.setSize(t,1),e.shiftKey&&\"40\"==e.keyCode&&r.setSize(t,-1),e.shiftKey&&\"39\"==e.keyCode&&r.setSpace(t,1),e.shiftKey&&\"37\"==e.keyCode&&r.setSpace(t,-1),e.ctrlKey&&e.shiftKey&&\"KeyU\"==e.code&&r.toggleUpper(t),e.ctrlKey&&e.shiftKey&&\"KeyL\"==e.code&&r.toggleLower(t)}),n.text.addEventListener(\"keyup\",e=>{r.setText(e.target.value)}),n.size.addEventListener(\"change\",e=>{r.setSize(document.querySelector(\"#text\"),e.target.value,!0)}),n.letterSpacing.addEventListener(\"keyup\",e=>{r.setSpace(document.querySelector(\"#text\"),e.target.value,!0)}),n.categories.forEach(e=>{e.addEventListener(\"change\",e=>{0==r.getSelectedCategories().length&&(e.target.checked=!0),i()})})}]);","extractedComments":[]}