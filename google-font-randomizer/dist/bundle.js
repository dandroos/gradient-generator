!function(e){var t={};function s(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);const r=new class{constructor(){this.text=document.querySelector("#text"),this.cpanel=document.querySelector("#cpanel"),this.textInput=document.querySelector("#text-input"),this.sizeInput=document.querySelector("#size-input"),this.letterSpacingInput=document.querySelector("#space-input"),this.categoriesInput=document.querySelectorAll(".category"),this.wrapper=document.querySelector("#wrapper"),this.toastBox=document.querySelector("#toast"),this.caseOptions=document.querySelectorAll(".case"),this.colourScheme=document.querySelectorAll(".colourscheme"),this.getNewFontButton=document.querySelector("#new"),this.undoButton=document.querySelector("#undo"),this.redoButton=document.querySelector("#redo")}getFontList(){return new Promise((e,t)=>{let s=new XMLHttpRequest;s.onreadystatechange=(()=>{200==s.status&&4==s.readyState?e(JSON.parse(s.responseText)):200!=s.status&&4==s.readyState&&t(s.responseText)}),s.open("GET","https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyAZPt82j4_tyfPLEeWYVp14aXp5SM1-PME",!0),s.send()})}init(e){return new Promise(t=>{this.jsonData=e.items;var s=document.createElement("link");s.id="googleFont",s.rel="stylesheet",s.type="text/css",s.href="#",document.getElementsByTagName("head")[0].appendChild(s),t()})}getFilteredList(){return this.filteredList}setFilteredList(e){this.filteredList=this.jsonData.filter(t=>e.includes(t.category))}getFamily(){return this.family}setFamily(e){this.family=e}getCategory(){return this.category}setCategory(e){this.category=e}get(){return{family:this.family,category:this.category}}set(e){this.setFamily(e.family),this.setCategory(e.category)}getText(){return this.text.textContent}setText(e){this.text.textContent=e}getSelectedCategories(){var e=Array.from(document.querySelectorAll(".category"));return e=(e=e.filter(e=>!0===e.checked)).map(e=>e.id)}getRandomFont(e){return e[Math.floor(Math.random()*e.length)]}setLink(e){document.querySelector("#googleFont").href=`https://fonts.googleapis.com/css?family=${e.family}`}setInlineStyle(e){this.text.style.fontFamily=e.family}getToast(){return this.toastText}setToast(e){this.toastText=e}toast(){this.toastBox.textContent=this.toastText,this.toastBox.classList.remove("hide-and-slide-up"),window.clearTimeout(this.timer),this.timer=setTimeout(()=>{this.toastBox.classList.add("hide-and-slide-up")},4e3)}reveal(e){e.classList.remove("hide")}hide(e){e.classList.add("hide")}getSpace(e){return parseInt(/-?\d*/g.exec(e.style.letterSpacing).join())}setSpace(e,t,s=!1){e.style.letterSpacing=s?`${t}px`:`${this.getSpace(e)+t}px`,this.letterSpacingInput.value=this.getSpace(e)}getSize(e){return parseInt(/\d*/g.exec(e.style.fontSize).join())}setSize(e,t,s=!1){e.style.fontSize=s?`${t}px`:`${this.getSize(e)+t}px`,this.sizeInput.value=this.getSize(e)}resetValues(e,t=!1){t&&this.setSize(e,100,!0),this.setSpace(e,0,!0)}getCase(e){return e.style.textTransform}setCase(e,t){document.querySelector(`#${t}`).checked=!0,e.style.textTransform=t}toggleUpper(e){"uppercase"===this.getCase(e)?this.setCase(e,"none"):this.setCase(e,"uppercase")}toggleLower(e){"lowercase"===this.getCase(e)?this.setCase(e,"none"):this.setCase(e,"lowercase")}toggleCPanel(){this.cpanel.classList.toggle("hide"),this.cpanel.classList.contains("hide")&&document.activeElement.blur()}setColourScheme(e,t){t?(e.classList.add("black-on-white"),document.querySelector("#bow").checked=!0):(e.classList.remove("black-on-white"),document.querySelector("#wob").checked=!0)}toggleWhiteOnBlack(){var e=this.wrapper.classList.contains("black-on-white");this.setColourScheme(this.wrapper,!e),this.setColourScheme(this.toastBox,!e)}};r.getFontList().then(e=>{r.init(e)}).then(()=>{a(!0)}).catch(e=>{console.log(e)});var o,n=[],i=0;function a(e=!1,t=null){var s=document.querySelector("#toast");s.classList.contains("hide-and-slide-up")||s.classList.add("hide-and-slide-up");var o=document.querySelector("#text");e||t?e||"undo"!==t?e||"redo"!==t?d(!0):(o.addEventListener("transitionend",u),r.hide(o)):(o.addEventListener("transitionend",l),r.hide(o)):(o.addEventListener("transitionend",c),r.hide(o))}function c(){d(!1)}function l(){i+1<n.length?d(!1,!0,++i):(text.removeEventListener("transitionend",l),r.reveal(text))}function u(){i-1>=0?d(!1,!0,--i):(text.removeEventListener("transitionend",u),r.reveal(text))}function d(e=!0,t=!1,s=0){if(t)r.set(n[n.length-1-s]);else{i>0&&(n=n.slice(0,n.length-i),i=0);var a=r.getSelectedCategories();r.setFilteredList(a);var d=r.getFilteredList(),h=r.getRandomFont(d);n.push(h),r.set(h)}e?r.resetValues(document.querySelector("#text"),!0):r.resetValues(document.querySelector("#text")),r.setLink(r.get()),r.setInlineStyle(r.get()),r.setToast(r.family.replace(/"/g,"")),window.clearTimeout(o),o=setTimeout(()=>{!function(){var e=document.querySelector("#text");[c,l,u].forEach(t=>{e.removeEventListener("transitionend",t)}),r.toast(),r.reveal(e)}()},500)}document.addEventListener("keydown",e=>{var t=document.querySelector("#text");e.shiftKey&&"Space"==e.code&&a(),e.shiftKey&&"KeyT"==e.code&&r.toast(),e.ctrlKey&&e.shiftKey&&"KeyZ"==e.code&&a(!1,"undo"),e.ctrlKey&&e.shiftKey&&"KeyY"==e.code&&a(!1,"redo"),e.ctrlKey&&e.shiftKey&&"KeyS"==e.code&&r.toggleCPanel(),e.ctrlKey&&e.shiftKey&&"KeyF"==e.code&&r.toggleWhiteOnBlack(),e.shiftKey&&"38"==e.keyCode&&r.setSize(t,1),e.shiftKey&&"40"==e.keyCode&&r.setSize(t,-1),e.shiftKey&&"39"==e.keyCode&&r.setSpace(t,1),e.shiftKey&&"37"==e.keyCode&&r.setSpace(t,-1),e.ctrlKey&&e.shiftKey&&"KeyU"==e.code&&r.toggleUpper(t),e.ctrlKey&&e.shiftKey&&"KeyL"==e.code&&r.toggleLower(t)}),r.textInput.addEventListener("keyup",e=>{r.setText(e.target.value)}),["keyup","change"].forEach(e=>{r.sizeInput.addEventListener(e,e=>{r.setSize(document.querySelector("#text"),e.target.value,!0)}),r.letterSpacingInput.addEventListener(e,e=>{r.setSpace(document.querySelector("#text"),e.target.value,!0)})}),r.categoriesInput.forEach(e=>{e.addEventListener("change",e=>{0==r.getSelectedCategories().length&&(e.target.checked=!0),a()})}),r.caseOptions.forEach(e=>{e.addEventListener("change",e=>{"uppercase"===e.target.id&&e.target.checked&&r.setCase(r.text,"uppercase"),"lowercase"===e.target.id&&e.target.checked&&r.setCase(r.text,"lowercase"),"none"===e.target.id&&e.target.checked&&r.setCase(r.text,"none")})}),r.colourScheme.forEach(e=>{e.addEventListener("change",e=>{"bow"===e.target.id&&e.target.checked&&r.setColourScheme(r.wrapper,!0),"wob"===e.target.id&&e.target.checked&&r.setColourScheme(r.wrapper,!1)})}),r.getNewFontButton.addEventListener("click",e=>{a()}),r.undoButton.addEventListener("click",e=>{a(!1,"undo")}),r.redoButton.addEventListener("click",e=>{a(!1,"redo")})}]);